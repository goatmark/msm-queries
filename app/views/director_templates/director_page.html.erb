<% params %>

<h1>Director #<%=@director_id%> details</h1>

<a href="/directors/">Go back</a>

<hr>

<dl>
  <dt>Name</dt>
  <dd><%=@specific_director.name%></dd>
  
  <dt>Dob</dt>
  <dd><%=@specific_director.dob%></dd>

  <dt>Bio</dt>
  <dd><%=@specific_director.bio%></dd>
  
  <dt>ID</dt>
  <dd><%=@specific_director.id%></dd>
  
  <dt>Image</dt>
  <dd><img src="<%=@specific_director.image%>" style="width:250px;"></dd>

  <dt>Created at</dt>
  <dd><%=@specific_director.created_at%></dd>

  <dt>Updated at</dt>
  <dd><%=@specific_director.updated_at%></dd>
</dl>

<hr>

<h1>Filmography</h1>

<%matching_movies = Movie.where({:director_id => @specific_director.id})%>

<table border="1">

<tr>
  <th>ID</th>
  <th>Image</th>
  <th>Title</th>
  <th>Year</th>
  <th>Director</th>
  <th></th>
</tr>

 <%matching_movies.all.each do |a_movie|%>
    <tr>
      <td><%=a_movie.id%></td>
      <td><img src = "<%=a_movie.image%>" style="width:250px;"></td>
      <td><%=a_movie.title%></td>
      <td><%=a_movie.year%></td>
      <td><%=@specific_director.name%></td>
      <td><a href="/movies/<%=a_movie.id%>">Show details</a></td>
    </tr>
  <%end%>

</table>
